<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_21) on Tue Aug 05 08:02:24 MDT 2014 -->
<title>Profiler (threadly 2.4.0 API)</title>
<meta name="date" content="2014-08-05">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Profiler (threadly 2.4.0 API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/threadly/util/debug/DebugLogger.html" title="class in org.threadly.util.debug"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/threadly/util/debug/Profiler.html" target="_top">Frames</a></li>
<li><a href="Profiler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.threadly.util.debug</div>
<h2 title="Class Profiler" class="title">Class Profiler</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.threadly.util.debug.Profiler</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><a href="../../../../org/threadly/util/debug/ControlledThreadProfiler.html" title="class in org.threadly.util.debug">ControlledThreadProfiler</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">Profiler</span>
extends java.lang.Object</pre>
<div class="block">Tool for profiling a running java application to get an idea 
 of where the slow points (either because of lock contention, or 
 because of high computational demand).
 
 This tool definitely incurs some load within the system, so it 
 should only be used while debugging, and not as general use.  In 
 addition if it is left running without being reset, it will 
 continue to consume more and more memory.</div>
<dl><dt><span class="strong">Since:</span></dt>
  <dd>1.0.0</dd></dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#Profiler()">Profiler</a></strong>()</code>
<div class="block">Constructs a new profiler instance.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#Profiler(java.io.File)">Profiler</a></strong>(java.io.File&nbsp;outputFile)</code>
<div class="block">Constructs a new profiler instance which will dump the 
 results to the provided output file when "stop" is called.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#Profiler(java.io.File, int)">Profiler</a></strong>(java.io.File&nbsp;outputFile,
        int&nbsp;pollIntervalInMs)</code>
<div class="block">Constructs a new profiler instance which will dump the 
 results to the provided output file when "stop" is called.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#Profiler(int)">Profiler</a></strong>(int&nbsp;pollIntervalInMs)</code>
<div class="block">Constructs a new profiler instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#dump()">dump</a></strong>()</code>
<div class="block">Output all the currently collected statistics to the provided output stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#dump(java.io.OutputStream)">dump</a></strong>(java.io.OutputStream&nbsp;out)</code>
<div class="block">Output all the currently collected statistics to the provided output stream.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#dump(java.io.PrintStream)">dump</a></strong>(java.io.PrintStream&nbsp;ps)</code>
<div class="block">Output all the currently collected statistics to the provided output stream.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#getCollectedSampleQty()">getCollectedSampleQty</a></strong>()</code>
<div class="block">Call to get an estimate on how many times the profiler has collected a 
 sample of the thread stacks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#getPollInterval()">getPollInterval</a></strong>()</code>
<div class="block">Call to get the currently set profile interval.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#isRunning()">isRunning</a></strong>()</code>
<div class="block">Call to check weather the profile is currently running/started.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#reset()">reset</a></strong>()</code>
<div class="block">Reset the current stored statistics.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#setPollInterval(int)">setPollInterval</a></strong>(int&nbsp;pollIntervalInMs)</code>
<div class="block">Change how long the profiler waits before getting additional thread 
 stacks.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#start()">start</a></strong>()</code>
<div class="block">Starts the profiler running in a new thread.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#start(java.util.concurrent.Executor)">start</a></strong>(java.util.concurrent.Executor&nbsp;executor)</code>
<div class="block">Starts the profiler running in a new thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../org/threadly/util/debug/Profiler.html#stop()">stop</a></strong>()</code>
<div class="block">Stops the profiler from collecting more statistics.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Profiler()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Profiler</h4>
<pre>public&nbsp;Profiler()</pre>
<div class="block">Constructs a new profiler instance.  The only way 
 to get results from this instance is to call "dump" 
 with a provided output stream to get the results to.  
 
 This uses a default poll interval of 100 milliseconds.</div>
</li>
</ul>
<a name="Profiler(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Profiler</h4>
<pre>public&nbsp;Profiler(java.io.File&nbsp;outputFile)</pre>
<div class="block">Constructs a new profiler instance which will dump the 
 results to the provided output file when "stop" is called.
 
 If the output file is null, this will behave the same as the 
 empty constructor.  
 
 This uses a default poll interval of 100 milliseconds.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>outputFile</code> - file to dump results to on stop</dd></dl>
</li>
</ul>
<a name="Profiler(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>Profiler</h4>
<pre>public&nbsp;Profiler(int&nbsp;pollIntervalInMs)</pre>
<div class="block">Constructs a new profiler instance.  The only way 
 to get results from this instance is to call "dump" 
 with a provided output stream to get the results to.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pollIntervalInMs</code> - frequency to check running threads</dd></dl>
</li>
</ul>
<a name="Profiler(java.io.File, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Profiler</h4>
<pre>public&nbsp;Profiler(java.io.File&nbsp;outputFile,
        int&nbsp;pollIntervalInMs)</pre>
<div class="block">Constructs a new profiler instance which will dump the 
 results to the provided output file when "stop" is called.
 
 If the output file is null, this will behave the same as the 
 empty constructor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>outputFile</code> - file to dump results to on stop</dd><dd><code>pollIntervalInMs</code> - frequency to check running threads</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setPollInterval(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPollInterval</h4>
<pre>public&nbsp;void&nbsp;setPollInterval(int&nbsp;pollIntervalInMs)</pre>
<div class="block">Change how long the profiler waits before getting additional thread 
 stacks.  This value must be >= 0.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pollIntervalInMs</code> - time in milliseconds to wait between thread data dumps</dd></dl>
</li>
</ul>
<a name="getPollInterval()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPollInterval</h4>
<pre>public&nbsp;int&nbsp;getPollInterval()</pre>
<div class="block">Call to get the currently set profile interval.  This is the amount 
 of time the profiler waits between collecting thread data.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>returns the profile interval in milliseconds</dd></dl>
</li>
</ul>
<a name="getCollectedSampleQty()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCollectedSampleQty</h4>
<pre>public&nbsp;int&nbsp;getCollectedSampleQty()</pre>
<div class="block">Call to get an estimate on how many times the profiler has collected a 
 sample of the thread stacks.  This number may be lower than the actual 
 sample quantity, but should never be higher.  It can be used to ensure a minimum 
 level of accuracy from within the profiler.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>the number of times since the start or last reset we have sampled the threads</dd></dl>
</li>
</ul>
<a name="reset()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>reset</h4>
<pre>public&nbsp;void&nbsp;reset()</pre>
<div class="block">Reset the current stored statistics.  The statistics will 
 continue to grow in memory until the profiler is either stopped, 
 or until this is called.</div>
</li>
</ul>
<a name="isRunning()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isRunning</h4>
<pre>public&nbsp;boolean&nbsp;isRunning()</pre>
<div class="block">Call to check weather the profile is currently running/started.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true if there is a thread currently collecting statistics.</dd></dl>
</li>
</ul>
<a name="start()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start()</pre>
<div class="block">Starts the profiler running in a new thread.
 
 If this profiler had the life cycle of: 
 start -> stop -> start
 
 The stats from the previous run will still be included 
 in this run.  If you wish to clear out previous runs 
 you must call {#link reset()} first.</div>
</li>
</ul>
<a name="start(java.util.concurrent.Executor)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>start</h4>
<pre>public&nbsp;void&nbsp;start(java.util.concurrent.Executor&nbsp;executor)</pre>
<div class="block">Starts the profiler running in a new thread.
 
 If this profiler had the life cycle of: 
 start -> stop -> start
 
 The stats from the previous run will still be included 
 in this run.  If you wish to clear out previous runs 
 you must call {#link reset()} first.
 
 If an executor is provided, this call will block until the the 
 profiler has been started on the provided executor.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>executor</code> - executor to execute on, or null if new thread should be created</dd></dl>
</li>
</ul>
<a name="stop()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stop</h4>
<pre>public&nbsp;void&nbsp;stop()</pre>
<div class="block">Stops the profiler from collecting more statistics.  If 
 a file was provided at construction, the results will be 
 written to that file.  It is possible to request the 
 results using the {#link dump()} call after it has stopped.</div>
</li>
</ul>
<a name="dump()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dump</h4>
<pre>public&nbsp;java.lang.String&nbsp;dump()</pre>
<div class="block">Output all the currently collected statistics to the provided output stream.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>The dumped results as a single String</dd></dl>
</li>
</ul>
<a name="dump(java.io.OutputStream)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dump</h4>
<pre>public&nbsp;void&nbsp;dump(java.io.OutputStream&nbsp;out)</pre>
<div class="block">Output all the currently collected statistics to the provided output stream.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>out</code> - OutputStream to write results to</dd></dl>
</li>
</ul>
<a name="dump(java.io.PrintStream)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>dump</h4>
<pre>public&nbsp;void&nbsp;dump(java.io.PrintStream&nbsp;ps)</pre>
<div class="block">Output all the currently collected statistics to the provided output stream.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>ps</code> - PrintStream to write results to</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../org/threadly/util/debug/DebugLogger.html" title="class in org.threadly.util.debug"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/threadly/util/debug/Profiler.html" target="_top">Frames</a></li>
<li><a href="Profiler.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
